# https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/install_undercloud.html
# Cleaning the Undercloud
# This procedure isnâ€™t cleaning everything that TripleO generates, but enough so an Undercloud could be re-deployed.

# Note
# This procedure has been tested on Train and onward. There is no guarantee that it works before this version, due to container commands and new directories.

# Log in to your machine (baremetal or VM) where you want to cleanup the undercloud as a non-root user (such as the stack user):
# ssh <non-root-user>@<undercloud-machine>

# Cleanup the containers and their images:
# sudo podman rm -af
# sudo podman rmi -af

# Remove directories generated by TripleO:
# sudo rm -rf \
#    /var/lib/tripleo-config \
#    /var/lib/config-data \
#    /var/lib/container-config-scripts \
#    /var/lib/container-puppet \
#    /var/lib/heat-config \
#    /var/lib/image-service \
#    /var/lib/mysql

# Cleanup systemd:
# sudo rm -rf /etc/systemd/system/tripleo*
# sudo systemctl daemon-reload

